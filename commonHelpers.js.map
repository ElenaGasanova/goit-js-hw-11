{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchSearchData(inputValue) {\n  return fetch(\n    `https://pixabay.com/api/?key=43344666-8172f6ac72992b92fe58b4040&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function renderElements(images) {\n  return images\n    .map(img => {\n      return `<li class=\"gallery-item\">\n  <a href=\"${img.largeImageURL}\"\n    ><img src=\"${img.webformatURL}\" alt=\"${img.tags}\" class=\"photo\"\n  /></a>\n  <div class=\"gallery-item-container\">\n<div class=\"label-container\"><span class=\"label\">Likes</span><span class=\"value\">${img.likes}</span></div>\n    <div class=\"label-container\"><span class=\"label\">Views</span><span class=\"value\">${img.views}</span></div>\n    <div class=\"label-container\"><span class=\"label\">Comments</span><span class=\"value\">${img.comments}</span></div>\n    <div class=\"label-container\"><span class=\"label\">Downloads</span><span class=\"value\">${img.downloads}</span></div>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchSearchData } from './js/pixabay-api';\nimport { renderElements } from './js/render-functions';\n\nconst formEl = document.querySelector('.form');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 500,\n});\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.target.elements.js_input.value.trim();\n\n  if (inputValue === '') {\n    return;\n  }\n\n  loaderEl.classList.add('is-visible');\n\n  fetchSearchData(inputValue)\n    .then(response => {\n      if (response.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        galleryEl.innerHTML = '';\n        return;\n      }\n\n      galleryEl.innerHTML = renderElements(response.hits);\n\n      lightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loaderEl.classList.remove('is-visible');\n    });\n}\n"],"names":["fetchSearchData","inputValue","response","renderElements","images","img","formEl","galleryEl","loaderEl","lightbox","SimpleLightbox","onFormSubmit","event","iziToast","err"],"mappings":"6vBAAO,SAASA,EAAgBC,EAAY,CAC1C,OAAO,MACL,qEAAqEA,CAAU,0DACnF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCTO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EACJ,IAAIC,GACI;AAAA,aACAA,EAAI,aAAa;AAAA,iBACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,mFAGgCA,EAAI,KAAK;AAAA,uFACLA,EAAI,KAAK;AAAA,0FACNA,EAAI,QAAQ;AAAA,2FACXA,EAAI,SAAS;AAAA;AAAA,MAGnG,EACA,KAAK,EAAE,CACZ,CCJA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDJ,EAAO,iBAAiB,SAAUK,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMX,EAAaW,EAAM,OAAO,SAAS,SAAS,MAAM,OAEpDX,IAAe,KAInBO,EAAS,UAAU,IAAI,YAAY,EAEnCR,EAAgBC,CAAU,EACvB,KAAKC,GAAY,CAChB,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC9BW,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDN,EAAU,UAAY,GACtB,MACD,CAEDA,EAAU,UAAYJ,EAAeD,EAAS,IAAI,EAElDO,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbN,EAAS,UAAU,OAAO,YAAY,CAC5C,CAAK,EACL"}